<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container my-5">
      <textarea name="" id="message" cols="30" rows="10" class="form-control mb-2"></textarea>
      <button class="btn btn-primary" id="send-btn">Send</button>
    </div>
    <!-- <form action="" method="post">
    </form> -->

    <script>
        var ws = new WebSocket('ws://127.0.0.1:8000/ws/ac/');

        // ws.onopen = function(){
        //     console.log("Webshocket Connection Open");
        //     ws.send("Message From Client");
        // }

        // ws.onmessage = function(event){
        //     console.log("Message Recieve From server", event);
        // }

        // ws.onerror = function(event){
        //     console.log("Websocket Error Occour", event);
        // }

        // ws.onclose = function(event){
        //     console.log("Webshocket Connection Close", event);
        // }
        sendBtn = document.getElementById('send-btn');
        message = document.getElementById('message');

        ws.addEventListener('open', ()=>{
            console.log("Webshocket Connection Open");
            sendBtn.onclick = function(){
                ws.send(message.value);
            }
        })
        ws.addEventListener('message', (event)=>{
            console.log("Message Recieve From server", event);
        })
        ws.addEventListener('error', (event)=>{
            console.log("Websocket Error Occour", event);
        })
        ws.addEventListener('close', (event)=>{
            console.log("Webshocket Connection Close", event);
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>